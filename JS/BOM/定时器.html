<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button class="open">开启定时器</button>
    <button class="close">关闭定时器</button>
    <script>
        // 1 setTimeout
        // 语法：window.setTimeout(调用函数,延时时间（ms）)
        //  window 可以省略
        // 页面中有很多定时器,通常给其加标识符（name）；
        var timer1 = setTimeout(fn1, 2000);
        var timer2 = setTimeout(fn2, 4000);
        // 写法2（不推荐）：setTimeout('fn()',3000)

        function fn1() {
            console.log('boom');
        }

        function fn2() {
            console.log('BOOM second!');
        }
        // 2 window.clearTimeout() 清除计时器
        clearTimeout(timer2);
        // 3 setInterval(fn,ms)
        setInterval(() => {
            console.log('每隔2秒触发一次');
        }, 2000);
        // 4 clearInterval(); 
        var op = document.querySelector('.open');
        var cl = document.querySelector('.close');
        var tim1 = null; //定义一个全局变量
        op.addEventListener('click', function() {
            // 如果tim1定义在函数内，就是局部变量，其他地方无法访问
            tim1 = setInterval(function() {
                console.log('每次都要变！');
            }, 1000);
        })
        cl.addEventListener('click', function() {
            clearInterval(tim1);
        })
    </script>
</body>

</html>